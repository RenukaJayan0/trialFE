<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Bookstore</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <a href="frontend/cart.html" class="text-decoration-none text-muted mb-3 d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left me-2" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            Back to Cart
        </a>

        <h1 class="mb-4">Checkout</h1>

        <div class="row g-4">
            <!-- Form Column -->
            <div class="col-lg-8">
                <form id="payment-form">
                    <!-- Billing Address section will go here -->
                    <div id="billing-address-section" class="card p-4 mb-4">
 <h2 class="h5 mb-4">Billing Address</h2>
 <div class="mb-3">
 <label for="address" class="form-label">Street Address</label>
 <input type="text" class="form-control" id="address" name="billingAddress.address" required>
 </div>
 <div class="row g-3">
 <div class="col-md-6">
 <label for="city" class="form-label">City</label>
 <input type="text" class="form-control" id="city" name="billingAddress.city" required>
 </div>
 <div class="col-md-6">
 <label for="state" class="form-label">State</label>
 <input type="text" class="form-control" id="state" name="billingAddress.state" required>
 </div>
 </div>
 <div class="row g-3 mt-0">
 <div class="col-md-6">
 <label for="zipCode" class="form-label">ZIP Code</label>
 <input type="text" class="form-control" id="zipCode" name="billingAddress.zipCode" required>
 </div>
 <div class="col-md-6">
 <label for="country" class="form-label">Country</label>
 <input type="text" class="form-control" id="country" name="billingAddress.country" required>
 </div>
 </div>
                    </div>

                    <!-- Payment Information section will go here -->
                    <div id="payment-information-section" class="card p-4 mb-4">
 <div class="d-flex align-items-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-credit-card me-2" viewBox="0 0 16 16">
 <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1H2zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7z"/>
 </svg>
 <h2 class="h5 mb-0">Payment Information</h2>
 </div>
 <div class="mb-3">
 <h3 class="h6 mb-3">Choose a Payment Option</h3>
 <div class="form-check">
 <input class="form-check-input" type="radio" name="paymentOption" id="paypal" value="paypal" checked>
 <label class="form-check-label" for="paypal">
                                Paypal
 </label>
 </div>
 <div class="form-check">
 <input class="form-check-input" type="radio" name="paymentOption" id="gpay" value="gpay">
 <label class="form-check-label" for="gpay">
                                GPay
 </label>
 </div>
 <div class="form-check">
 <input class="form-check-input" type="radio" name="paymentOption" id="card" value="card">
 <label class="form-check-label" for="card">
                                Card
 </label>
 </div>
                    </div>

                    <!-- Secure payment message -->
                    <div class="d-flex align-items-center text-muted mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shield-check me-2 text-success" viewBox="0 0 16 16">
                            <path d="M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.552 4.125 1.779 7.464 2.839 8.481.566.523 1.145 1.025 1.749 1.526v2.745c0 .22.139.42.357.471a.48.48 0 0 0 .345-.01c1.484-.608 2.8-.92 3.958-1.115l.425-.072a.9.9 0 0 0 .9-.939v-2.745c.603-.501 1.182-1.003 1.749-1.526 1.06-1.017 3.391-4.356 2.839-8.481a.481.481 0 0 0-.328-.39c-.651-.213-1.307-.366-1.981-.498a61.46 61.46 0 0 0-2.837-.856a1.1 1.1 0 0 0-1.086.063Zm1.735 10.632a.5.5 0 0 1-.707 0l-3.5-3.5a.5.5 0 1 1 .707-.707L7 9.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6Z"/>
                        </svg>
                        <p class="mb-0">Your payment information is secure and encrypted</p>
                    </div>

                    <!-- Order Summary (for small screens) -->
                    <div id="order-summary-sm" class="d-lg-none">
                        <!-- Order summary content will be rendered here by JavaScript -->
                    </div>

                    <button type="submit" class="btn btn-dark w-100">Confirm Payment</button>
                </form>
            </div>

            <!-- Order Summary Column (for large screens) -->
            <div class="col-lg-4 d-none d-lg-block">
                 <div id="order-summary-lg" class="card p-4 sticky-top">
                    <!-- Order summary content will be rendered here by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script>
        const cartItems = [
            { id: "1", title: "Great Big Beautiful Life", author: "Emily Henry", price: 34.99, quantity: 1 },
            { id: "2", title: "The Let Them Theory", author: "Mel Robbins", price: 28.98, quantity: 2 },
            { id: "3", title: "King of Envy", author: "Ana Huang", price: 16.99, quantity: 1 },
        ];

        function getCartTotal(items) {
            return items.reduce((total, item) => total + item.price * item.quantity, 0);
        }

        function calculateOrderSummary(items) {
            const subtotal = getCartTotal(items);
            const shipping = subtotal > 50 ? 0 : 4.99;
            const tax = subtotal * 0.08; // 8% tax
            const total = subtotal + shipping + tax;
            return { subtotal, shipping, tax, total };
        }

        function renderOrderSummary(items) {
            const { subtotal, shipping, tax, total } = calculateOrderSummary(items);

            let itemsHtml = items.map(item => `
                <div class="d-flex justify-content-between text-sm">
                    <span>${item.quantity} &times; ${item.title}</span>
                    <span>$${(item.price * item.quantity).toFixed(2)}</span>
                </div>
            `).join('');

            return `
                <h2 class="h5 mb-4">Order Summary</h2>
                <div class="space-y-3 mb-4">
                    ${itemsHtml}
                </div>
                <hr class="my-3">
                <div class="space-y-2 text-sm">
                    <div class="d-flex justify-content-between">
                        <span>Subtotal</span>
                        <span>$${subtotal.toFixed(2)}</span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span>Shipping</span>
                        <span>${shipping === 0 ? "Free" : `$${shipping.toFixed(2)}`}</span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span>Tax</span>
                        <span>$${tax.toFixed(2)}</span>
                    </div>
                    <hr class="my-2">
                    <div class="d-flex justify-content-between font-weight-bold">
                        <span>Total</span>
                        <span>$${total.toFixed(2)}</span>
                    </div>
                </div>
            `;
        }

        document.getElementById('order-summary-sm').innerHTML = renderOrderSummary(cartItems);
        document.getElementById('order-summary-lg').innerHTML = renderOrderSummary(cartItems);

        document.getElementById('payment-form').addEventListener('submit', function(event) {
            event.preventDefault();
            alert('Order placed successfully!');
            // In a real application, you would process the payment and redirect to a confirmation page.
        });
    </script>
</body>
</html>